<div class="max-w-md mx-auto p-4 space-y-4">
  <!-- Accordion Header -->
  <div 
    (click)="showSupportedCars = !showSupportedCars"
    class="flex justify-between items-center p-3 bg-gray-100 rounded cursor-pointer hover:bg-gray-200"
  >
    <h3 class="font-medium">Supported Cars</h3>
    <span>{{ showSupportedCars ? '−' : '+' }}</span>
  </div>

  <!-- Accordion Content -->
  <div *ngIf="showSupportedCars" class="mt-2 space-y-4">
    <!-- Brand Selection -->
    <div class="relative">
      <ui-input 
        type="text"
        [(ngModel)]="brandSearch"
        (input)="filterBrands()"
        placeholder="Search brand..."
      />
      <div *ngIf="filteredBrands.length > 0 && brandSearch" class="absolute z-10 w-full mt-1 bg-white border rounded shadow-lg">
        <div 
          *ngFor="let brand of filteredBrands"
          (click)="selectBrand(brand)"
          class="p-2 hover:bg-gray-100 cursor-pointer"
        >
          {{ brand }}
        </div>
      </div>
    </div>

    <!-- Model Selection (only shown when brand is selected) -->
    <div *ngIf="selectedBrand" class="relative">
      <ui-input 
        type="text"
        [(ngModel)]="modelSearch"
        (input)="filterModels()"
        placeholder="Search model..."
      />
      <div *ngIf="filteredModels.length > 0 && modelSearch" class="absolute z-10 w-full mt-1 bg-white border rounded shadow-lg">
        <div 
          *ngFor="let model of filteredModels"
          (click)="selectModel(model)"
          class="p-2 hover:bg-gray-100 cursor-pointer"
        >
          {{ model }}
        </div>
      </div>
    </div>

    <!-- Selected Cars -->
    <div *ngIf="selectedCars.length > 0" class="mt-4 space-y-2">
      <div 
        *ngFor="let car of selectedCars"
        class="flex justify-between items-center p-2 bg-gray-50 rounded"
      >
        <span>{{ car.brand }} {{ car.model }}</span>
        <button 
          (click)="removeCar(car)"
          class="text-red-500 hover:text-red-700"
        >
          ×
        </button>
      </div>
    </div>
  </div>
</div>